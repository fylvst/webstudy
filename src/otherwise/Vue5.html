<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vue5</title>
  <script type="text/javascript" src="../js/vue.js"></script>
</head>
<body>
监视属性
<div id="root">
  <h1>today weather {{weather}}</h1>
  <button @click="change">change</button><br>
  <h1>{{numbers.a}}</h1>
  <button @click="numbers.a++">a++</button>
</div>
</body>
<script type="text/javascript">
  const vm=new Vue({
    el:"#root",
    data:{
      isHot:true,
      numbers:{
        a:1,
        b:1
      }
    },
    methods:{
      change(){
        this.isHot=!this.isHot
      }
    },
    computed:{
      weather(){
        return this.isHot? 'hot':'cool'
      }
    },
    watch:{
      weather:{
        immediate:true,//初始化时调用一次handler
        //isHot改变时handler被调用
        handler(newValue,oldValue){
          console.log('change',oldValue,'to',newValue)
        }
      },
      numbers: {
        deep:true,
        handler(newValue, oldValue) {
          console.log('numbers changed')
        }
      }
    }
  })
</script>
</html>